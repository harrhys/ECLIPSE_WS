<project name="FubarWebAppClient" default="all" basedir=".">

	<!-- set global properties for this build file -->
	<property name="beahomedir" value="C:/bea/weblogic92"/>
	<property name="buildrootdir" value="${basedir}/../.."/>
	<property name="approotdir" value="${buildrootdir}/FubarWebAppClientProject"/>
	<property name="approotname" value="fubar"/>
	<property name="jar_mod_file" value="waclientimpl.jar"/>

	<target name="all" depends="clean, classmodstage, jarmod"/>

	<target name="clean">
		<delete file="${approotdir}/build/${jar_mod_file}"/>
		<delete dir="${approotdir}/build/tmpclassmodstage"/>
		<delete dir="${approotdir}/build/tmpjavamodstage"/>
	</target>

	<target name="classmodstage">
		<!-- REMINDER: Need to build FubarCoreAppClientProject by itself -->
		<delete dir="${approotdir}/build/tmpjavamodstage"/>
		<mkdir dir="${approotdir}/build/tmpjavamodstage"/>
		<copy todir="${approotdir}/build/tmpjavamodstage">
			<fileset dir="${approotdir}/src"/>
		</copy>
		<copy todir="${approotdir}/build/tmpjavamodstage">
			<fileset dir="${buildrootdir}/FubarCoreAppClientProject/src"/>
		</copy>
		<delete dir="${approotdir}/build/tmpclassmodstage"/>
		<mkdir dir="${approotdir}/build/tmpclassmodstage"/>
		<javac srcdir="${approotdir}/build/tmpjavamodstage"
			destdir="${approotdir}/build/tmpclassmodstage">
			<classpath>
				<pathelement path="${classpath}"/>
				<pathelement location="${buildrootdir}/FubarCommonProject/build/fubarcommon.jar"/>
   		</classpath>
		</javac>
	</target>

	<target name="jarmod" depends="classmodstage">
		<jar jarfile="${approotdir}/build/${jar_mod_file}"
			basedir="${approotdir}/build/tmpclassmodstage"/>
	</target>
	
</project>
