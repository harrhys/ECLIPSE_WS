<HTML lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
        <meta name="keywords" content="electronic commerce, ecommerce, ebusiness, e-business, e-commerce, enterprise software, net economy, Sun Microsystems, Sun Open Network Environment, Sun ONE, internet software">
        <meta name="description" content="Sun Microsystems, Inc., is delivering Sun ONE e-commerce software and enterprise solutions that enable companies to compete successfully in the Net Economy.">
	<META NAME="templatebase" manual wdt 1.7.0 OAK

rebranded for Sun ONE
06-18-02">
	<meta name="LastUpdated" content="07/10/02 11:50:31">
	<title> Lifecycle Multi-threaded Application:  Lifecycle Multi-threaded Application</title>
</head>

<body text="#000000" link="#594fbf" vlink="10% #594fbf" alink="#333366" bgcolor="#FFFFFF">

<MAINCONTENT>

<NAVIGATIONCONTENT>
   <TABLE WIDTH="100%" BORDER="0" CELLSPACING="4">
      <TR>
         <td VALIGN="TOP">
            <A HREF="http://wwws.sun.com/software">
              <IMG SRC="../../../docs/images/SunONE.jpg" alt="Sun ONE logo" 
                valign="BOTTOM"
                height="40" width="120" border="0"></A>
             &nbsp;&nbsp;&nbsp;&nbsp;
         </td>
     </TR>

      <TR>
         <TD VALIGN="TOP" ALIGN="RIGHT" BGCOLOR="#594fbf">
            <FONT FACE="Helvetica, Arial, sans-serif" COLOR="#ffffff" SIZE="-1"><B>
             Lifecycle Multi-threaded Application</B></FONT>
         </TD>
      </TR>

   </TABLE>
   <BR>
</NAVIGATIONCONTENT>

<BOOKCONTENT>
   <BLOCKQUOTE>
<BR>
<BR>

      <A NAME="8063"> </A>
<A NAME="Lifecycle Multi-threaded Application"> </A>
<FONT FACE="Helvetica, Arial, Sans-Serif" SIZE="+1" COLOR="#000000">
<B>
Lifecycle Multi-threaded Application
</B>
</FONT>
<BR>
<BR>
<BR>

<A NAME="16924"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">This document describes how to utilize the Lifecycle (Multi-threaded) sample application in conjunction with the Sun ONE Application Server version 7.
</FONT>
<P>

<A NAME="14787"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">This sample application document contains the following sections:
</FONT>
<P>
<ul>
<A NAME="14789"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
<A HREF="#14799"  >Overview</A>
</FONT>
<P><A NAME="14790"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
<A HREF="index.html#15909"  >Compiling and Assembling the Application</A>
</FONT>
<P><A NAME="14791"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
<A HREF="index.html#14836"  >Deploying the Sample Application</A>
</FONT>
<P><A NAME="14792"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
<A HREF="index.html#14943"  >Running the Sample Application</A>
</FONT>
<P><A NAME="14794"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
<A HREF="index.html#14976"  >Troubleshooting</A>
</FONT>
<P></ul>

<BR>
<BR>

<A NAME="14799"> </A>
<A NAME="Overview"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="+1">
Overview
<HR SIZE="2" NOSHADE>
</FONT>
<BR>


<A NAME="14801"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">This sample is based on the LifecycleListener interface support provided by Sun ONE Application Server. This  demonstrates the ability of the lifecycle classes to use other server resources like DataSource and UserTransaction using threads.
</FONT>
<P>

<A NAME="14803"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">The following instructions describe how to assemble, deploy on the Application Server, and how to run the application. Although the sample application offers minimal functionality, this sample should provide you with a basic understanding of startup class support in the Sun One Application Server.
</FONT>
<P>

</FONT>

<P>

<BR>
<BR>
<A NAME="19288"> </A>
<A NAME="Setting up the environment"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="+1">
Setting up the environment
</FONT>
<BR>
<BR>

<A NAME="19336"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">In order to successfully deploy and run the Lifecycle Multi-threaded sample application, Database resources (<A HREF="../../../docs/pointbase.html">PointBase</A>) needs to be setup with the Application Server.
</FONT>
<P>
<A NAME="19336"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">If you want to run the Lifecycle Multithreaded sample application with the Oracle database, please refer to (<A HREF="../../../docs/oracle.html">How to run samples with Oracle database server</A>) for configuration steps.
</FONT>

<P>

<BR>
<BR>

<A NAME="15909"> </A>
<A NAME="Compiling and Assembling the Application"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="+1">
Compiling and Assembling the Application
<HR SIZE="2" NOSHADE>
</FONT>
<BR>


<A NAME="15910"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">This <A HREF="index.html#14815"  >Command Line Based Compilation and Assembly</A> procedure describes how to assemble and compile the sample using a Command Line Interface (CLI).
</FONT>
<P>
<P>
<BR>
<A NAME="14815"> </A>
<A NAME="Command Line Based Compilation and Assembly"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="+1">
Command Line Based Compilation and Assembly
</FONT>
<BR>
<BR>


<BR>
<P>
<A NAME="14817"> </A>
<A NAME="To rebuild the entire application from scratch:"> </A>
<FONT FACE="Helvetica, Arial, sans-serif">
<B>
To rebuild the entire application from scratch:
</B>
</FONT>
<BR>
<BR>
<ol type="1">
<A NAME="14819"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li value="1"></B>
Compile and Assemble.
</FONT>
<P>  <dl>
     <DT> <A NAME="14821"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
Execute the<FONT FACE="courier, couriernew, monospaced size"> asant </FONT>command under &lt;<I>install_dir</I>&gt;<FONT FACE="courier, couriernew, monospaced size">/samples/lifecycle/multithreaded/src/</FONT>
</FONT>
<P>     <DT> <A NAME="14822"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
[please add &lt;<I>install_dir</I>&gt;<FONT FACE="courier, couriernew, monospaced size">/bin to your path</FONT>]
</FONT>
<P>     <DT> <A NAME="14824"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
The default target core is executed to rebuild the<FONT FACE="courier, couriernew, monospaced size"> .jar </FONT>file.
</FONT>
<P>  </dl>
<A NAME="14826"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li value="2"></B>
Deploy the application.
</FONT>
<P>  <dl>
     <DT> <A NAME="14827"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
When you have re-created the sample application from scratch, proceed to Deploying the application.
</FONT>
<P>  </dl>
<A NAME="14829"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li value="3"></B>
Clean the application project area.
</FONT>
<P>  <dl>
     <DT> <A NAME="14830"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
Execute the<FONT FACE="courier, couriernew, monospaced size"> asant clean </FONT>command to remove the sample application's assemble and build directories.
</FONT>
<P>     <DT> <A NAME="14833"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
Now you are ready to use this<FONT FACE="courier, couriernew, monospaced size"> .jar </FONT>file for deployment.
</FONT>
<P>  </dl>
</ol>

<BR>
<BR>

<A NAME="14836"> </A>
<A NAME="Deploying the Sample Application"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="+1">
Deploying the Sample Application
<HR SIZE="2" NOSHADE>
</FONT>
<BR>


<A NAME="14838"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">Select one of the following approaches to deploy the application:
</FONT>
<P>
<ul>
<A NAME="14840"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
<A HREF="index.html#14846"  >Command Line Based Deployment</A> describes how to manually register the application in a Sun ONE Application Server using a Command Line Interface (CLI). This is the fastest means of deploying the application.
</FONT>
<P><A NAME="14843"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
<A HREF="index.html#15432"  >GUI Based Deployment</A> describes how to use the Sun ONE Deployment Tool to import and deploy the sample application.
</FONT>
<P></ul>
<P>
<BR>
<A NAME="14846"> </A>
<A NAME="Command Line Based Deployment"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="+1">
Command Line Based Deployment
</FONT>
<BR>
<BR>



<A NAME="14848"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">Since a complete <FONT FACE="courier, couriernew, monospaced size">.jar</FONT> file is supplied, the fastest means of setting up the application is to use the command line utilities as described in this section.
</FONT>
<P>

<A NAME="16077"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">If you want to deploy through a GUI tool, follow the instructions for <A HREF="index.html#15432"  >GUI Based Deployment</A>.
</FONT>
<P>

<A NAME="14852"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">The pre-built<FONT FACE="courier, couriernew, monospaced size"> lifecycle-multithreaded.jar  </FONT>file contains the Java Archive (JAR) files of the application.
</FONT>
<P>

</FONT>
<P>

<A NAME="16011"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">Deploy using either the <FONT FACE="courier, couriernew, monospaced size">asant</FONT> script or the<FONT FACE="courier, couriernew, monospaced size"> asadmin </FONT>command.
</FONT>
<P>
<BR>
<P>
<A NAME="14858"> </A>
<A NAME="Using the asant Script"> </A>
<FONT FACE="Helvetica, Arial, sans-serif">
<B>
Using the asant Script
</B>
</FONT>
<BR>
<BR>
<ol type="1">
<A NAME="15255"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li value="1"></B>
Go to the<FONT FACE="courier, couriernew, monospaced size"> src </FONT>directory of the sample:
</FONT>
<P>  <dl>
     <DT> <A NAME="16664"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
&lt;<I>install_dir</I>&gt;<FONT FACE="courier, couriernew, monospaced size">/samples/lifecycle/multithreaded/src</FONT>
</FONT>
<P>  </dl>
<A NAME="16665"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li value="2"></B>
Execute the<FONT FACE="courier, couriernew, monospaced size"> asant deploy </FONT>command.
</FONT>
<P></ol>
<BR>
<P>
<A NAME="16666"> </A>
<A NAME="Using the asadmin Command"> </A>
<FONT FACE="Helvetica, Arial, sans-serif">
<B>
Using the asadmin Command
</B>
</FONT>
<BR>
<BR>
<ol type="1">
<A NAME="14870"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li value="1"></B>
Go to the root of the sample directory:
</FONT>
<P>  <dl>
     <DT> <A NAME="16064"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
&lt;<I>install_dir</I>&gt;<FONT FACE="courier, couriernew, monospaced size">/samples/lifecycle/multithreaded/</FONT>
</FONT>
<P>  </dl>
<A NAME="14874"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li value="2"></B>
Execute the<FONT FACE="courier, couriernew, monospaced size"> asadmin </FONT>command to deploy the application to the local application server instance:
</FONT>
<P>  <dl>
     <DT> <A NAME="16096"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<FONT FACE="courier, couriernew, monospaced size">asadmin create-lifecycle-module -u </FONT>&lt;<I>user-name</I>&gt;<FONT FACE="courier, couriernew, monospaced size"> -w </FONT>&lt;<I>password</I>&gt;<FONT FACE="courier, couriernew, monospaced size"> -H </FONT>&lt;<I>hostname</I>&gt;<FONT FACE="courier, couriernew, monospaced size"> -p </FONT>&lt;<I>admin server port</I>&gt;<FONT FACE="courier, couriernew, monospaced size">  --classname samples.lifecycle.multithreaded.LCLWithResourceAccessInThread --classpath </FONT>&lt;<I>install_dir</I>&gt;<FONT FACE="courier, couriernew, monospaced size">/samples/lifecycle/multithreaded/src/../lifecycle-multithreaded.jar lifecycle-multithreaded
</FONT>
<P>  </dl>
</ol>

<A NAME="14879"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">The deployment process involves the following operations:
</FONT>
<P>
<ul>
<A NAME="14880"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
It authenticates against the local application server's administrative server.
</FONT>
<P><A NAME="16141"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
The<FONT FACE="courier, couriernew, monospaced size"> .jar</FONT> file is transferred to the administrative server.
</FONT>
<P><A NAME="16146"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
The administrative server begins the registration process:
</FONT>
<P>  <ul>
<A NAME="16149"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
Parses the<FONT FACE="courier, couriernew, monospaced size"> .jar </FONT>file.
</FONT>
<P><A NAME="16157"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
Explodes the bits into the repository.
</FONT>
<P><A NAME="16160"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
Registers the J2EE application<FONT FACE="courier, couriernew, monospaced size"> lifecycle-multithreaded </FONT>by updating the<FONT FACE="courier, couriernew, monospaced size"> server.xml</FONT> file.
</FONT>
<P>    <dl>
       <DT> <A NAME="16171"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
If you want to verify the registration of the application, proceed to the <A HREF="index.html#14924"  >Verifying Registration</A> section.
</FONT>
<P>       <DT> <A NAME="16180"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
Otherwise, you are ready to exercise the application by <A HREF="index.html#14943"  >Running the Sample Application</A>.
</FONT>
<P>    </dl>
  </ul>
</ul>
<P>
<BR>
<A NAME="15432"> </A>
<A NAME="GUI Based Deployment"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="+1">
GUI Based Deployment
</FONT>
<BR>
<BR>



<A NAME="15433"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">Since a pre-built (<FONT FACE="courier, couriernew, monospaced size">.jar</FONT>) file for the sample application is included with the application server, you can use the Admin Tool to quickly read in the<FONT FACE="courier, couriernew, monospaced size"> .jar </FONT>file and deploy it to the application server.
</FONT>
<P>
<ol type="1">
<P><A NAME="14898"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li value="1"></B>
Start the admin server if it is not already started.
</FONT>
<P>  <dl>
     <DT> <A NAME="14900"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
UNIX
</FONT>
<P>  </dl>
  <ol type="a">
<A NAME="14902"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
Goto &lt;<I>install_dir</I>&gt;<FONT FACE="courier, couriernew, monospaced size">/domains/domain1/admin-server/bin</FONT>.
</FONT>
<P><A NAME="14904"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
Execute the<FONT FACE="courier, couriernew, monospaced size"> startserv </FONT>command.
</FONT>
<P>  </ol>
  <dl>
     <DT> <A NAME="14906"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
Windows
</FONT>
<P>  </dl>
  <ol type="a">
<A NAME="14908"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
Goto &lt;<I>install_dir</I>&gt;<FONT FACE="courier, couriernew, monospaced size">\domains\domain1\admin-server\bin</FONT>
</FONT>
<P><A NAME="14910"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
Run<FONT FACE="courier, couriernew, monospaced size"> startserv</FONT>.
</FONT>
<P>  </ol>
<A NAME="14912"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li value="2"></B>
Open the<FONT FACE="courier, couriernew, monospaced size"> .jar </FONT>file.
</FONT>
<P>  <ol type="a">
<A NAME="16329"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
Navigate to the browser based admin server page [<FONT FACE="courier, couriernew, monospaced size">http://</FONT>&lt;<I>server-host</I>&gt;<FONT FACE="courier, couriernew, monospaced size">:</FONT>&lt;<I>admin-port</I>&gt;<FONT FACE="courier, couriernew, monospaced size">/index.html</FONT>].
</FONT>
<P><A NAME="16330"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
Enter your username and password to access the admin server.
</FONT>
<P><A NAME="16331"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
Click App Server Instances&gt;server1&gt;Applications&gt;Lifecycle Modules.
</FONT>
<P><A NAME="14917"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
In the right hand pane, click Deploy to deploy an application.
</FONT>
<P><A NAME="16340"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
Fill in the Module Name, Classname and Classpath</FONT>.
</FONT>
<P><A NAME="16344"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
Fill in Load order(Optional). Load order expects integer value which can be used to force the order in which deployed lifecycle modules are loaded at server startup. Smaller numbered modules get loaded sooner. Order is unspecified if two or more lifecycle modules have the same load-order value.
</FONT>
<P><A NAME="16344"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
You may also choose the relevent boolean values for Fatal faliure.
</FONT>
<P><A NAME="16344"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
You must also set the Enable flag to true in order to load this module at the time of server startup.
</FONT>
<P>    </dl>
<A NAME="16359"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li value ="4"></B>
A typical set of values for these attributes will be:</FONT>
<P>    <dl><dl>
       <DT> <A NAME="14920"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
  Name        lifecycle-multithreaded 
<P>    
       <DT> <A NAME="14920"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
  ClassName  samples.lifecycle.multithreaded.LCLWithResourceAccessInThread
<P>   
       <DT> <A NAME="14920"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
  ClassPath   <install_dir>/samples/lifecycle/multithreaded/src/../lifecycle-multithreaded.jar 
</FONT>
<p>
       <DT> <A NAME="14920"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
Click OK.
</FONT>
<P>    
       <DT> <A NAME="14920"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
If the deployment goes through properly, you see the original pane with the<FONT FACE="courier, couriernew, monospaced size"> lifecycle-multithreaded </FONT>application as deployed.
</FONT>
<P>    </dl>
  </ol>
</ol>
<P>
<BR>
<A NAME="14924"> </A>
<A NAME="Verifying Registration"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="+1">
Verifying Registration
</FONT>
<BR>
<BR>



<A NAME="14926"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">As an optional step, you can use the Sun ONE Application Server Administration Tool to verify that the application has been registered.
</FONT>
<P>

<A NAME="16417"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">If you do not want to verify that the application has been registered, proceed directly to <A HREF="index.html#14943"  >Running the Sample Application</A>.
</FONT>
<P>
<BR>
<P>
<A NAME="14930"> </A>
<A NAME="To verify the registration of the application:"> </A>
<FONT FACE="Helvetica, Arial, sans-serif">
<B>
To verify the registration of the application:
</B>
</FONT>
<BR>
<BR>
<ol type="1">
<A NAME="16467"> </A>
<P>
<A NAME="14938"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li value="1"></B>
Navigate the Admin tool GUI to App Server Instances&gt;server1&gt;Applications&gt;Lifecycle Modules.
</FONT>
<P><A NAME="16509"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li value="2"></B>
Click Lifecycle modules on the left frame menu to display a list of applications deployed on the server.
</FONT>
<P></ol>

<P>
<A NAME="15015"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">
<BR>
<HR SIZE="1">
<TABLE BORDER="0" CELLPADDING="5" WIDTH="75%">
  <TR>
    <TD VALIGN=TOP>
<A NAME="17191"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>
Note:
</B>
</FONT>
<ALIGN=TOP>
    <A NAME="14957"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
The schema/table are prepopulated so you don't need to configure the database. In case you want to reset the database, you can do the following.
</FONT>
<!--P>
<A NAME="17208"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">You can do the following to populate the database.
</FONT-->
<P>
<ul>
<A NAME="17198"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
<FONT FACE="courier, couriernew, monospaced size">cd </FONT>&lt;<I>install_dir</I>&gt;<FONT FACE="courier, couriernew, monospaced size">/samples/lifecycle/multithreaded/src/</FONT>
</FONT>
<P><A NAME="17199"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li></B>
<FONT FACE="courier, couriernew, monospaced size">asant sql</FONT>
</FONT>
<P></ul>
</TD>
  </TR>
</TABLE>

<HR SIZE="1">
<BR>

</FONT>
<P>
<BR>


<A NAME="14943"> </A>
<A NAME="Running the Sample Application"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="+1">
Running the Sample Application
<HR SIZE="2" NOSHADE>
</FONT>
<BR>


<A NAME="14945"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">Make sure that poinbase database is up and running before you run the application. When the application is deployed, the lifecycle-connection-pool and lifecycle-resource are already taken care of. Since this is a startup class, you need to stop and start the application server instance.
</FONT>
<P>
<ol type="1">
<A NAME="14946"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li value="1"></B>
<FONT FACE="courier, couriernew, monospaced size">
asadmin stop-instance -H &lt;<I>hostname</I>&gt; -p &lt;<I>admin server port</I>&gt; -u &lt;<I>user-name</I>&gt; -w &lt;<I>password</I>&gt; &lt;<I>server-instance name</I>&gt;
</FONT>
<P><A NAME="14947"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<B>  <li value="2"></B>
<FONT FACE="courier, couriernew, monospaced size">
asadmin start-instance -H &lt;<I>hostname</I>&gt; -p &lt;<I>admin server port</I>&gt; -u &lt;<I>user-name</I>&gt; -w &lt;<I>password</I>&gt; &lt;<I>server-instance name</I>&gt;
</FONT>
<P>     <DT> <A NAME="16543"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
After the server has started, go to the log file of the server instance and search for the following messages: 'The Existing records in the LCMLIFECYCLE are: '.There will be groups of three such messages, and the group will be repeated at regular interval of 1 minute. After the first message the program will print the existing rows in the LCMLIFECYCLE table. Then the program will insert a new table in the SAMPELTABLE table and again it will print all the rows. The third time, the program will print all the existing rows after incrementing the value of marks by 1. For a new installation, first time the LCMLIFECYCLE table will empty and no rows will be printed. The second set in the group will have one row with marks value 1, and in the third set the same row will be printed again with marks value 2. The log file output will look like to following:
</FONT>

<P>       <DT> <A NAME="16545"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<FONT FACE="courier, couriernew, monospaced size">...
<br>
The Existing records in the LCMLIFECYCLE are:
<br>
The Existing records in the LCMLIFECYCLE are:
<br>
serial no. =0
<br>
name       =abc1
<br>
marks      =1.0
<br>
The Existing records in the LCMLIFECYCLE are:
<br>
serial no. =0
<br>
name       =abc1
<br>
marks      =2.0

</FONT>
<br>
<br>
After one minute the program will insert a new row in the table and then it will print the three sets again from the LCMLIFECYCLE table. The second group of three sets will look like: 

<P>
       <DT> <A NAME="16544"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<FONT FACE="courier, couriernew, monospaced size">...
<br>
The Existing records in the LCMLIFECYCLE are:
<br>
 serial no. =0
<br>
 name       =abc1
<br>
 marks      =2.0
<br>
 The Existing records in the LCMLIFECYCLE are:
<br>
 serial no. =0
<br>
 name       =abc1
<br>
 marks      =2.0
<br>
 serial no. =0
<br>
 name       =abc2
<br>
 marks      =1.0
<br>
 The Existing records in the LCMLIFECYCLE are:
<br>
 serial no. =0
<br>
 name       =abc1
<br>
 marks      =3.0
<br>
 serial no. =1
<br>
 name       =abc2
<br>
 marks      =2.0
<br>

</FONT>

<P></ul>
</TD>
  </TR>
</TABLE>

<HR SIZE="1">
<BR>

</FONT>
<P>
<BR>
<A NAME="14961"> </A>
<A NAME="Generating Javadocs"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="+1">
Generating Javadocs
</FONT>
<BR>
<BR>



<A NAME="14963"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">To understand sample application source code better, you can refer to the related javadocs. To generate javadocs, run the command
</FONT>
<P>
<dl>  <dl>
     <DT> <A NAME="16579"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<FONT FACE="courier, couriernew, monospaced size">asant javadocs</FONT>
</FONT>
<P>     <DT> <A NAME="14967"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
or
</FONT>
<P>     <DT> <A NAME="14968"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="-1">
<FONT FACE="courier, couriernew, monospaced size">asant all</FONT>
</FONT>
<P>  </dl>
</dl>
<A NAME="14970"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">After javadocs are generated, you can access them at 
</FONT>
<P>

<A NAME="14972"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">&lt;<I>install_dir</I>&gt;<FONT FACE="courier, couriernew, monospaced size">/samples/lifecycle/multithreaded/javadocs/index.html</FONT>
</FONT>
<P>

<BR>
<BR>

<A NAME="14976"> </A>
<A NAME="Troubleshooting"> </A>
<FONT FACE="Helvetica, Arial, sans-serif" SIZE="+1">
Troubleshooting
<HR SIZE="2" NOSHADE>
</FONT>
<BR>


<A NAME="14978"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">If you encounter problems when running the application, review the log files at &lt;<I>install-dir</I>&gt;<FONT FACE="courier, couriernew, monospaced size">/domains/domain1/&lt;</FONT>server-instance&gt;/logs/server.log to see what went wrong.
</FONT>
<P>

<A NAME="16896"> </A><FONT FACE="Helvetica, Arial, sans-serif" SIZE="2">Make certain that you run<FONT FACE="courier, couriernew, monospaced size"> asant undeploy </FONT>before redeploying this sample to make sure that all modules are undeployed and the resources are disabled.
</FONT>
<P>



   </BLOCKQUOTE>
</BOOKCONTENT>

<FOOTERCONTENT>
   <BLOCKQUOTE>
 <BR>
           
        <HR NOSHADE SIZE="1">


   
<!-- start copyright -->
<font face="Helvetica, Arial, sans-serif" size="-2">
Copyright &#169; 2002 <a href="http://sun.com">Sun Microsystems, Inc.</a> 
All rights reserved.
</font>
<!--  end copyright  -->
   </BLOCKQUOTE>
   <FONT FACE="Helvetica, Arial, sans-serif" SIZE="-2">
   <P ALIGN="RIGHT">Last Updated <B>July 10, 2002</B>
   </FONT>
   <BR>

</FOOTERCONTENT>

</MAINCONTENT>

</BODY>


</HTML>
