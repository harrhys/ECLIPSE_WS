<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE project [ <!ENTITY include SYSTEM "../../../../common.xml"> ]>

  <!-- ======================================================= -->
  <!--  Sun ONE Application Server Sample Application build xml -->
  <!-- ======================================================= -->

  <project name="jaxm-soaprp" default="core" basedir=".">

  <property name="sample.home" value="../../../../"/>


  <!-- ======================================================= -->
  <!--                   App name-dependent settings.          -->
  <!-- ======================================================= -->

  <property name="appname" value="jaxm-soaprp"/>


  <!-- ======================================================= -->
  <!--       Package directory structures of interest.         -->
  <!-- ======================================================= -->

  <property name="app.pkg" value="samples/webservices/jaxm/soaprp"/>
  <property name="war.pkg" value="samples/webservices/jaxm/soaprp"/>
 
  <!-- ======================================================= -->
  <!--          property need to build war deployment.         -->
  <!-- ======================================================= -->

  <property name="apptype"      value="web"/>
  <property name="verify.file"  value="../${appname}.war"/>
  <property name="deploy.file"  value="../${appname}.war"/>

  <!-- ======================================================= -->
  <!--                  Java Doc properties .                  -->
  <!-- ======================================================= -->
  
  <property name="sample.name" value="JAXM Soap Remote Provider Sample"/>
  <property name="javadoc.pkgnames" value="samples.webservices.jaxm.soaprp.*" />

  <!-- ======================================================= -->
  <!--                  Xml files properties .                 -->
  <!-- ======================================================= -->
  
  <property name="warDD" value="web.xml,sun-web.xml"/>
 
  <!-- ======================================================= -->
  <!--                          Include common.xml             -->
  <!-- ======================================================= -->
 
  &include;
  

  <property name="classpath.prefix" value="${com.sun.aas.imqLib}/jaxm-api.jar:../../lib/jaxm-sampleproviderruntime.jar"/>

  <!-- ======================================================= -->
  <!--   Custom war target to include .java and .properties files -->
  <!-- ======================================================= -->

  <target name="create_war"
          depends="clean_war_common,check_warfile,copy_docroot,copy_warfiles">
    <mkdir dir="${assemble.war}"/>
    <copy todir="${assemble.war}/WEB-INF/">
      <fileset dir="." includes="${warDD}"/>
    </copy>
    <copy todir="${assemble.war}/WEB-INF/classes">
      <fileset dir="." includes="client.xml"/>
    </copy>
    <copy todir="${assemble.war}/WEB-INF">
      <fileset dir="." includes="address.properties"/>
    </copy>
    <jar jarfile="../${war}"
       basedir="${assemble.war}" />
    <move file="../${war}" todir="${assemble.war}"/>
    <copy file="${assemble.war}/${war}" tofile="../${war}"/>
    <property name="war.done" value="true"/>
  </target>

  <!-- ======================================================= -->
  <!--      Targets to build and deploy sample application     -->
  <!-- ======================================================= -->
  
  <target name="clean" depends="clean_common"/>
  <target name="init" depends="init_common"/>
  <target name="compile" depends="compile_common"/>
  <target name="reconfig" depends="reconfig_common"/>
  <target name="javadocs" depends="javadocs_common"/>
  <target name="war" depends="init,create_war"/>
  <target name="sql" depends="sql_common"/>
  <target name="core" depends="compile,war" />
  <target name="deploy" depends="deploy_common"/>
  <target name="undeploy" depends="undeploy_common"/>
  <target name="verify" depends="verify_common"/>
  <target name="all" depends="core,javadocs,verify,deploy"/>
</project>
